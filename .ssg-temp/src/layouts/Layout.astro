---
import '../styles.css'

interface Props {
	title: string
	description?: string
}

const { title, description } = Astro.props
---

<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content={description || title} />
		<title>{title}</title>
	</head>
	<body class="min-h-screen bg-background text-foreground">
		<a href="#main-content" class="skip-link">Skip to main content</a>
		<div class="flex flex-col min-h-screen">
			<header class="border-b border-border">
				<div class="max-w-6xl mx-auto px-4 py-4">
					<nav class="flex items-center justify-between">
						<a href="/" class="text-xl font-semibold hover:opacity-80 transition-opacity">
							SSG
						</a>
						<button
							id="theme-toggle"
							class="p-2 rounded-lg bg-muted hover:bg-accent transition-colors"
							aria-label="Toggle dark mode"
						>
							<span id="theme-icon">ğŸŒ™</span>
						</button>
					</nav>
				</div>
			</header>
			<main id="main-content" class="flex-1 max-w-6xl mx-auto px-4 py-8 w-full">
				<slot />
			</main>
			<footer class="border-t border-border mt-auto">
				<div class="max-w-6xl mx-auto px-4 py-6 text-center text-muted-foreground">
					<p>Built with SSG</p>
				</div>
			</footer>
		</div>

		<script>
			// Dark mode toggle
			const themeToggle = document.getElementById('theme-toggle')
			const themeIcon = document.getElementById('theme-icon')
			const html = document.documentElement

			// Check for saved theme preference or default to system preference
			const savedTheme = localStorage.getItem('theme')
			if (savedTheme === 'dark' || (!savedTheme && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
				html.classList.add('dark')
				if (themeIcon) themeIcon.textContent = 'â˜€ï¸'
			}

			themeToggle?.addEventListener('click', () => {
				html.classList.toggle('dark')
				const isDark = html.classList.contains('dark')
				localStorage.setItem('theme', isDark ? 'dark' : 'light')
				if (themeIcon) themeIcon.textContent = isDark ? 'â˜€ï¸' : 'ğŸŒ™'
			})
		</script>
	</body>
</html>
